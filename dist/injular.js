(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.injular = factory());
}(this, (function () { 'use strict';

function assign(target) {
  if (target == null) {
    throw new TypeError('Cannot convert undefined or null to object');
  }

  var to = Object(target);

  for (var index = 1; index < arguments.length; index += 1) {
    // eslint-disable-next-line prefer-rest-params
    var nextSource = arguments[index];
    if (nextSource != null) {
      // eslint-disable-next-line no-restricted-syntax
      for (var nextKey in nextSource) {
        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
          to[nextKey] = nextSource[nextKey];
        }
      }
    }
  }
  return to;
}

var SNAKE_CASE_REGEXP = /[A-Z]/g;
function kebabCase(name) {
  return name.replace(SNAKE_CASE_REGEXP, function (letter, pos) {
    return (pos ? '-' : '') + letter.toLowerCase();
  });
}

var DIRECTIVE_SUFFIX = 'Directive';

var CNTRL_REG = /^(\S+)(\s+as\s+([\w$]+))?$/;
function identifierForController(controller) {
  if (typeof controller === 'string') {
    var match = CNTRL_REG.exec(controller);
    if (match) return match[3];
  }
  return undefined;
}

function instantiateDirective(name, directiveFactory, $injector) {
  // Code from $compileProvider.directive
  var directive = $injector.invoke(directiveFactory);
  if (typeof directive === 'function') {
    directive = { compile: function compile() {
        return directive;
      } };
  } else if (!directive.compile && directive.link) {
    directive.compile = function () {
      return directive.link;
    };
  }
  directive.priority = directive.priority || 0;
  directive.name = directive.name || name;
  directive.require = directive.require || directive.controller && directive.name;
  directive.restrict = directive.restrict || 'EA';
  directive.$$moduleName = directiveFactory.$$moduleName;
  return directive;
}

function removeReplaceableDirectiveProperties(directive) {
  // eslint-disable-next-line no-restricted-syntax
  for (var key in directive) {
    if (key !== 'index') {
      // eslint-disable-next-line no-param-reassign
      delete directive[key];
    }
  }
}

function injularCompile($compileNode, templateAttrs, childTranscludeFn) {
  var node = $compileNode[0];
  node.$injularTemplate = node.outerHTML;
  // eslint-disable-next-line no-underscore-dangle, max-len
  return this._nonInjularCompile && this._nonInjularCompile($compileNode, templateAttrs, childTranscludeFn);
}

function registerInjularDirective(name, directiveFactory) {
  // eslint-disable-next-line no-underscore-dangle
  return this._nonInjularDirective(name, ['$injector', function ($injector) {
    var directive = instantiateDirective(name, directiveFactory, $injector);
    if (!directive.template && directive.restrict === 'E') {
      // eslint-disable-next-line no-underscore-dangle,
      directive._nonInjularCompile = directive.compile;
      directive.compile = injularCompile;
    }
    return directive;
  }]);
}

function attachToModule(module, injularData) {
  /* eslint-disable no-param-reassign, no-underscore-dangle */
  if (module.$injularAttached) return;
  module.$injularAttached = true;
  module.config(['$compileProvider', function ($compileProvider) {
    if ('_nonInjularDirective' in $compileProvider) return;
    $compileProvider._nonInjularDirective = $compileProvider.directive;
    $compileProvider.directive = registerInjularDirective;
    injularData.$compileProvider = $compileProvider;
  }]).run(['$injector', function ($injector) {
    injularData.$injector = $injector;
  }]);
  /* eslint-enable no-param-reassign, no-underscore-dangle */
}

/* eslint-disable no-param-reassign, no-underscore-dangle */

function injularDirective(name, directiveFactory) {
  this._injular.injectDirective(name, directiveFactory, this._injularData);
  return this;
}

function injularComponent(name, options) {
  this._injular.injectComponent(name, options, this._injularData);
  return this;
}

function injularModule(name, requires, configFn) {
  var module = this._nonInjularModule(name, requires, configFn);
  this._injularModules.push(module);
  module._injular = this._injular;
  module._injularData = this._injularData;
  module._nonInjularDirective = module.directive;
  module.directive = injularDirective;
  module._nonInjularComponent = module.component;
  module.component = injularComponent;
  return module;
}

function injularUnproxify() {
  delete this._injular;
  delete this._injularData;
  this._injularModules.forEach(function (module) {
    delete module._injular;
    delete module._injularData;
    module.directive = module._nonInjularDirective;
    delete module._nonInjularDirective;
    module.component = module._nonInjularComponent;
    delete module._nonInjularComponent;
  });
  delete this._injularModules;
  delete this.$injularUnproxify;
  this.module = this._nonInjularModule;
  delete this._nonInjularModule;
}

function proxifyAngular(angular, injularData) {
  if ('_injular' in angular) return;
  angular._injular = this;
  angular._injularData = injularData;
  angular._injularModules = [];
  angular.$injularUnproxify = injularUnproxify;
  angular._nonInjularModule = angular.module;
  angular.module = injularModule;
}

function injectDirective(name, directiveFactory, injularData) {
  var $injector = injularData.$injector;

  var $compile = $injector.get('$compile');
  var $rootElement = $injector.get('$rootElement');
  var rootElement = $rootElement[0];
  var document = rootElement.ownerDocument;
  var window = document.defaultView;
  var angular = injularData.angular || window.angular;
  var directiveServiceName = '' + name + DIRECTIVE_SUFFIX;
  var directiveExists = $injector.has(directiveServiceName);
  var directive = void 0;
  if (directiveExists) {
    var directives = $injector.get(directiveServiceName);
    directive = directives[0];
    var newDirective = instantiateDirective(name, directiveFactory, $injector);
    removeReplaceableDirectiveProperties(directive);
    assign(directive, { compile: injularCompile }, newDirective);
  } else {
    var $compileProvider = injularData.$compileProvider;

    $compileProvider.directive(name, directiveFactory);
    var _directives = $injector.get(directiveServiceName);
    directive = _directives[0];
  }
  var kebabName = kebabCase(name);
  var componentElements = document.querySelectorAll('.ng-scope ' + kebabName);
  for (var i = 0; i < componentElements.length; i += 1) {
    var componentElement = componentElements[i];
    var $componentElement = angular.element(componentElement);
    var scope = $componentElement.scope();
    var isolateScope = $componentElement.isolateScope();
    var parentScope = isolateScope || !directiveExists ? scope : scope.$parent;
    if ($componentElement.hasClass('ng-scope')) {
      var componentScope = isolateScope || scope;
      componentScope.$destroy();
    }
    var componentTemplate = void 0;
    if (directive.template) {
      $componentElement.children().remove();
      componentTemplate = $componentElement[0].outerHTML;
    } else {
      componentTemplate = $componentElement[0].$injularTemplate;
    }
    var $newComponentElement = $compile(componentTemplate)(parentScope);
    $componentElement.replaceWith($newComponentElement);
    parentScope.$digest();
  }
}

function injectComponent(name, options, injularData) {
  // Code from $compileProvider.component
  // eslint-disable-next-line func-names
  var controller = options.controller || function () {};

  function factory($injector) {
    function makeInjectable(fn) {
      if (typeof fn === 'function' || Array.isArray(fn)) {
        // eslint-disable-next-line func-names
        return function (tElement, tAttrs) {
          return $injector.invoke(fn, this, { $element: tElement, $attrs: tAttrs });
        };
      }
      return fn;
    }

    var template = !options.template && !options.templateUrl ? '' : options.template;
    var ddo = {
      controller: controller,
      controllerAs: identifierForController(options.controller) || options.controllerAs || '$ctrl',
      template: makeInjectable(template),
      templateUrl: makeInjectable(options.templateUrl),
      transclude: options.transclude,
      scope: {},
      bindToController: options.bindings || {},
      restrict: 'E',
      require: options.require
    };

    // Copy annotations (starting with $) over to the DDO
    // eslint-disable-next-line no-restricted-syntax
    for (var key in options) {
      if (key.charAt(0) === '$') ddo[key] = options[key];
    }

    return ddo;
  }

  // TODO(pete) remove the following `forEach` before we release 1.6.0
  // The component-router@0.2.0 looks for the annotations on the controller constructor
  // Nothing in Angular looks for annotations on the factory function but we can't remove
  // it from 1.5.x yet.

  // Copy any annotation properties (starting with $
  // )over to the factory and controller constructor functions
  // These could be used by libraries such as the new component router
  // eslint-disable-next-line no-restricted-syntax
  for (var key in options) {
    if (key.charAt(0) === '$') {
      var val = options[key];
      factory[key] = val;
      // Don't try to copy over annotations to named controller
      if (typeof controller === 'function') controller[key] = val;
    }
  }

  factory.$inject = ['$injector'];

  return this.injectDirective(name, factory, injularData);
}

var injular = {
  attachToModule: attachToModule,
  injectComponent: injectComponent,
  injectDirective: injectDirective,
  proxifyAngular: proxifyAngular
};

return injular;

})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5qdWxhci5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2hlbHBlcnMuanMiLCIuLi9zcmMvbmdIZWxwZXJzLmpzIiwiLi4vc3JjL2F0dGFjaFRvTW9kdWxlLmpzIiwiLi4vc3JjL3Byb3hpZnlBbmd1bGFyLmpzIiwiLi4vc3JjL2luanVsYXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gIH1cblxuICBjb25zdCB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvciAobGV0IGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgIGNvbnN0IG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgZm9yIChjb25zdCBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5cbmNvbnN0IFNOQUtFX0NBU0VfUkVHRVhQID0gL1tBLVpdL2c7XG5leHBvcnQgZnVuY3Rpb24ga2ViYWJDYXNlKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUucmVwbGFjZShTTkFLRV9DQVNFX1JFR0VYUCwgKGxldHRlciwgcG9zKSA9PlxuICAgIChwb3MgPyAnLScgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKSxcbiAgKTtcbn1cbiIsImV4cG9ydCBjb25zdCBESVJFQ1RJVkVfU1VGRklYID0gJ0RpcmVjdGl2ZSc7XG5cblxuY29uc3QgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhbXFx3JF0rKSk/JC87XG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpZmllckZvckNvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICBpZiAodHlwZW9mIGNvbnRyb2xsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDTlRSTF9SRUcuZXhlYyhjb250cm9sbGVyKTtcbiAgICBpZiAobWF0Y2gpIHJldHVybiBtYXRjaFszXTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YW50aWF0ZURpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5LCAkaW5qZWN0b3IpIHtcbiAgLy8gQ29kZSBmcm9tICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlXG4gIGxldCBkaXJlY3RpdmUgPSAkaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICBpZiAodHlwZW9mIGRpcmVjdGl2ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGRpcmVjdGl2ZSA9IHsgY29tcGlsZTogKCkgPT4gZGlyZWN0aXZlIH07XG4gIH0gZWxzZSBpZiAoIWRpcmVjdGl2ZS5jb21waWxlICYmIGRpcmVjdGl2ZS5saW5rKSB7XG4gICAgZGlyZWN0aXZlLmNvbXBpbGUgPSAoKSA9PiBkaXJlY3RpdmUubGluaztcbiAgfVxuICBkaXJlY3RpdmUucHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHkgfHwgMDtcbiAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lO1xuICBkaXJlY3RpdmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnRUEnO1xuICBkaXJlY3RpdmUuJCRtb2R1bGVOYW1lID0gZGlyZWN0aXZlRmFjdG9yeS4kJG1vZHVsZU5hbWU7XG4gIHJldHVybiBkaXJlY3RpdmU7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVJlcGxhY2VhYmxlRGlyZWN0aXZlUHJvcGVydGllcyhkaXJlY3RpdmUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gIGZvciAoY29uc3Qga2V5IGluIGRpcmVjdGl2ZSkge1xuICAgIGlmIChrZXkgIT09ICdpbmRleCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgZGVsZXRlIGRpcmVjdGl2ZVtrZXldO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgaW5zdGFudGlhdGVEaXJlY3RpdmUgfSBmcm9tICcuL25nSGVscGVycyc7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGluanVsYXJDb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pIHtcbiAgY29uc3Qgbm9kZSA9ICRjb21waWxlTm9kZVswXTtcbiAgbm9kZS4kaW5qdWxhclRlbXBsYXRlID0gbm9kZS5vdXRlckhUTUw7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZSwgbWF4LWxlblxuICByZXR1cm4gdGhpcy5fbm9uSW5qdWxhckNvbXBpbGUgJiYgdGhpcy5fbm9uSW5qdWxhckNvbXBpbGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCBjaGlsZFRyYW5zY2x1ZGVGbik7XG59XG5cblxuZnVuY3Rpb24gcmVnaXN0ZXJJbmp1bGFyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlXG4gIHJldHVybiB0aGlzLl9ub25Jbmp1bGFyRGlyZWN0aXZlKG5hbWUsIFsnJGluamVjdG9yJywgKCRpbmplY3RvcikgPT4ge1xuICAgIGNvbnN0IGRpcmVjdGl2ZSA9IGluc3RhbnRpYXRlRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnksICRpbmplY3Rvcik7XG4gICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGUgJiYgZGlyZWN0aXZlLnJlc3RyaWN0ID09PSAnRScpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZSxcbiAgICAgIGRpcmVjdGl2ZS5fbm9uSW5qdWxhckNvbXBpbGUgPSBkaXJlY3RpdmUuY29tcGlsZTtcbiAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gaW5qdWxhckNvbXBpbGU7XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3RpdmU7XG4gIH1dKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoVG9Nb2R1bGUobW9kdWxlLCBpbmp1bGFyRGF0YSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbiAgaWYgKG1vZHVsZS4kaW5qdWxhckF0dGFjaGVkKSByZXR1cm47XG4gIG1vZHVsZS4kaW5qdWxhckF0dGFjaGVkID0gdHJ1ZTtcbiAgbW9kdWxlLmNvbmZpZyhbJyRjb21waWxlUHJvdmlkZXInLCAoJGNvbXBpbGVQcm92aWRlcikgPT4ge1xuICAgIGlmICgnX25vbkluanVsYXJEaXJlY3RpdmUnIGluICRjb21waWxlUHJvdmlkZXIpIHJldHVybjtcbiAgICAkY29tcGlsZVByb3ZpZGVyLl9ub25Jbmp1bGFyRGlyZWN0aXZlID0gJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmU7XG4gICAgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUgPSByZWdpc3RlckluanVsYXJEaXJlY3RpdmU7XG4gICAgaW5qdWxhckRhdGEuJGNvbXBpbGVQcm92aWRlciA9ICRjb21waWxlUHJvdmlkZXI7XG4gIH1dKS5ydW4oWyckaW5qZWN0b3InLCAoJGluamVjdG9yKSA9PiB7XG4gICAgaW5qdWxhckRhdGEuJGluamVjdG9yID0gJGluamVjdG9yO1xuICB9XSk7XG4gIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cblxuXG5mdW5jdGlvbiBpbmp1bGFyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcbiAgdGhpcy5faW5qdWxhci5pbmplY3REaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlRmFjdG9yeSwgdGhpcy5faW5qdWxhckRhdGEpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBpbmp1bGFyQ29tcG9uZW50KG5hbWUsIG9wdGlvbnMpIHtcbiAgdGhpcy5faW5qdWxhci5pbmplY3RDb21wb25lbnQobmFtZSwgb3B0aW9ucywgdGhpcy5faW5qdWxhckRhdGEpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBpbmp1bGFyTW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbikge1xuICBjb25zdCBtb2R1bGUgPSB0aGlzLl9ub25Jbmp1bGFyTW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbik7XG4gIHRoaXMuX2luanVsYXJNb2R1bGVzLnB1c2gobW9kdWxlKTtcbiAgbW9kdWxlLl9pbmp1bGFyID0gdGhpcy5faW5qdWxhcjtcbiAgbW9kdWxlLl9pbmp1bGFyRGF0YSA9IHRoaXMuX2luanVsYXJEYXRhO1xuICBtb2R1bGUuX25vbkluanVsYXJEaXJlY3RpdmUgPSBtb2R1bGUuZGlyZWN0aXZlO1xuICBtb2R1bGUuZGlyZWN0aXZlID0gaW5qdWxhckRpcmVjdGl2ZTtcbiAgbW9kdWxlLl9ub25Jbmp1bGFyQ29tcG9uZW50ID0gbW9kdWxlLmNvbXBvbmVudDtcbiAgbW9kdWxlLmNvbXBvbmVudCA9IGluanVsYXJDb21wb25lbnQ7XG4gIHJldHVybiBtb2R1bGU7XG59XG5cblxuZnVuY3Rpb24gaW5qdWxhclVucHJveGlmeSgpIHtcbiAgZGVsZXRlIHRoaXMuX2luanVsYXI7XG4gIGRlbGV0ZSB0aGlzLl9pbmp1bGFyRGF0YTtcbiAgdGhpcy5faW5qdWxhck1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PiB7XG4gICAgZGVsZXRlIG1vZHVsZS5faW5qdWxhcjtcbiAgICBkZWxldGUgbW9kdWxlLl9pbmp1bGFyRGF0YTtcbiAgICBtb2R1bGUuZGlyZWN0aXZlID0gbW9kdWxlLl9ub25Jbmp1bGFyRGlyZWN0aXZlO1xuICAgIGRlbGV0ZSBtb2R1bGUuX25vbkluanVsYXJEaXJlY3RpdmU7XG4gICAgbW9kdWxlLmNvbXBvbmVudCA9IG1vZHVsZS5fbm9uSW5qdWxhckNvbXBvbmVudDtcbiAgICBkZWxldGUgbW9kdWxlLl9ub25Jbmp1bGFyQ29tcG9uZW50O1xuICB9KTtcbiAgZGVsZXRlIHRoaXMuX2luanVsYXJNb2R1bGVzO1xuICBkZWxldGUgdGhpcy4kaW5qdWxhclVucHJveGlmeTtcbiAgdGhpcy5tb2R1bGUgPSB0aGlzLl9ub25Jbmp1bGFyTW9kdWxlO1xuICBkZWxldGUgdGhpcy5fbm9uSW5qdWxhck1vZHVsZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcHJveGlmeUFuZ3VsYXIoYW5ndWxhciwgaW5qdWxhckRhdGEpIHtcbiAgaWYgKCdfaW5qdWxhcicgaW4gYW5ndWxhcikgcmV0dXJuO1xuICBhbmd1bGFyLl9pbmp1bGFyID0gdGhpcztcbiAgYW5ndWxhci5faW5qdWxhckRhdGEgPSBpbmp1bGFyRGF0YTtcbiAgYW5ndWxhci5faW5qdWxhck1vZHVsZXMgPSBbXTtcbiAgYW5ndWxhci4kaW5qdWxhclVucHJveGlmeSA9IGluanVsYXJVbnByb3hpZnk7XG4gIGFuZ3VsYXIuX25vbkluanVsYXJNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZTtcbiAgYW5ndWxhci5tb2R1bGUgPSBpbmp1bGFyTW9kdWxlO1xufVxuIiwiaW1wb3J0IHsgYXNzaWduLCBrZWJhYkNhc2UgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgRElSRUNUSVZFX1NVRkZJWCxcbiAgaWRlbnRpZmllckZvckNvbnRyb2xsZXIsXG4gIGluc3RhbnRpYXRlRGlyZWN0aXZlLFxuICByZW1vdmVSZXBsYWNlYWJsZURpcmVjdGl2ZVByb3BlcnRpZXMsXG59IGZyb20gJy4vbmdIZWxwZXJzJztcbmltcG9ydCB7IGF0dGFjaFRvTW9kdWxlLCBpbmp1bGFyQ29tcGlsZSB9IGZyb20gJy4vYXR0YWNoVG9Nb2R1bGUnO1xuaW1wb3J0IHsgcHJveGlmeUFuZ3VsYXIgfSBmcm9tICcuL3Byb3hpZnlBbmd1bGFyJztcblxuXG5mdW5jdGlvbiBpbmplY3REaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlRmFjdG9yeSwgaW5qdWxhckRhdGEpIHtcbiAgY29uc3QgeyAkaW5qZWN0b3IgfSA9IGluanVsYXJEYXRhO1xuICBjb25zdCAkY29tcGlsZSA9ICRpbmplY3Rvci5nZXQoJyRjb21waWxlJyk7XG4gIGNvbnN0ICRyb290RWxlbWVudCA9ICRpbmplY3Rvci5nZXQoJyRyb290RWxlbWVudCcpO1xuICBjb25zdCByb290RWxlbWVudCA9ICRyb290RWxlbWVudFswXTtcbiAgY29uc3QgZG9jdW1lbnQgPSByb290RWxlbWVudC5vd25lckRvY3VtZW50O1xuICBjb25zdCB3aW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcbiAgY29uc3QgYW5ndWxhciA9IGluanVsYXJEYXRhLmFuZ3VsYXIgfHwgd2luZG93LmFuZ3VsYXI7XG4gIGNvbnN0IGRpcmVjdGl2ZVNlcnZpY2VOYW1lID0gYCR7bmFtZX0ke0RJUkVDVElWRV9TVUZGSVh9YDtcbiAgY29uc3QgZGlyZWN0aXZlRXhpc3RzID0gJGluamVjdG9yLmhhcyhkaXJlY3RpdmVTZXJ2aWNlTmFtZSk7XG4gIGxldCBkaXJlY3RpdmU7XG4gIGlmIChkaXJlY3RpdmVFeGlzdHMpIHtcbiAgICBjb25zdCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChkaXJlY3RpdmVTZXJ2aWNlTmFtZSk7XG4gICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1swXTtcbiAgICBjb25zdCBuZXdEaXJlY3RpdmUgPSBpbnN0YW50aWF0ZURpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5LCAkaW5qZWN0b3IpO1xuICAgIHJlbW92ZVJlcGxhY2VhYmxlRGlyZWN0aXZlUHJvcGVydGllcyhkaXJlY3RpdmUpO1xuICAgIGFzc2lnbihkaXJlY3RpdmUsIHsgY29tcGlsZTogaW5qdWxhckNvbXBpbGUgfSwgbmV3RGlyZWN0aXZlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7ICRjb21waWxlUHJvdmlkZXIgfSA9IGluanVsYXJEYXRhO1xuICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgIGNvbnN0IGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KGRpcmVjdGl2ZVNlcnZpY2VOYW1lKTtcbiAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzWzBdO1xuICB9XG4gIGNvbnN0IGtlYmFiTmFtZSA9IGtlYmFiQ2FzZShuYW1lKTtcbiAgY29uc3QgY29tcG9uZW50RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAubmctc2NvcGUgJHtrZWJhYk5hbWV9YCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50RWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBjb21wb25lbnRFbGVtZW50ID0gY29tcG9uZW50RWxlbWVudHNbaV07XG4gICAgY29uc3QgJGNvbXBvbmVudEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoY29tcG9uZW50RWxlbWVudCk7XG4gICAgY29uc3Qgc2NvcGUgPSAkY29tcG9uZW50RWxlbWVudC5zY29wZSgpO1xuICAgIGNvbnN0IGlzb2xhdGVTY29wZSA9ICRjb21wb25lbnRFbGVtZW50Lmlzb2xhdGVTY29wZSgpO1xuICAgIGNvbnN0IHBhcmVudFNjb3BlID0gKGlzb2xhdGVTY29wZSB8fCAhZGlyZWN0aXZlRXhpc3RzKSA/IHNjb3BlIDogc2NvcGUuJHBhcmVudDtcbiAgICBpZiAoJGNvbXBvbmVudEVsZW1lbnQuaGFzQ2xhc3MoJ25nLXNjb3BlJykpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudFNjb3BlID0gaXNvbGF0ZVNjb3BlIHx8IHNjb3BlO1xuICAgICAgY29tcG9uZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICB9XG4gICAgbGV0IGNvbXBvbmVudFRlbXBsYXRlO1xuICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICRjb21wb25lbnRFbGVtZW50LmNoaWxkcmVuKCkucmVtb3ZlKCk7XG4gICAgICBjb21wb25lbnRUZW1wbGF0ZSA9ICRjb21wb25lbnRFbGVtZW50WzBdLm91dGVySFRNTDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcG9uZW50VGVtcGxhdGUgPSAkY29tcG9uZW50RWxlbWVudFswXS4kaW5qdWxhclRlbXBsYXRlO1xuICAgIH1cbiAgICBjb25zdCAkbmV3Q29tcG9uZW50RWxlbWVudCA9ICRjb21waWxlKGNvbXBvbmVudFRlbXBsYXRlKShwYXJlbnRTY29wZSk7XG4gICAgJGNvbXBvbmVudEVsZW1lbnQucmVwbGFjZVdpdGgoJG5ld0NvbXBvbmVudEVsZW1lbnQpO1xuICAgIHBhcmVudFNjb3BlLiRkaWdlc3QoKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGluamVjdENvbXBvbmVudChuYW1lLCBvcHRpb25zLCBpbmp1bGFyRGF0YSkge1xuICAvLyBDb2RlIGZyb20gJGNvbXBpbGVQcm92aWRlci5jb21wb25lbnRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgY29uc3QgY29udHJvbGxlciA9IG9wdGlvbnMuY29udHJvbGxlciB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICBmdW5jdGlvbiBmYWN0b3J5KCRpbmplY3Rvcikge1xuICAgIGZ1bmN0aW9uIG1ha2VJbmplY3RhYmxlKGZuKSB7XG4gICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nIHx8IEFycmF5LmlzQXJyYXkoZm4pKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZuLCB0aGlzLCB7ICRlbGVtZW50OiB0RWxlbWVudCwgJGF0dHJzOiB0QXR0cnMgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZm47XG4gICAgfVxuXG4gICAgY29uc3QgdGVtcGxhdGUgPSAoIW9wdGlvbnMudGVtcGxhdGUgJiYgIW9wdGlvbnMudGVtcGxhdGVVcmwgPyAnJyA6IG9wdGlvbnMudGVtcGxhdGUpO1xuICAgIGNvbnN0IGRkbyA9IHtcbiAgICAgIGNvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6IGlkZW50aWZpZXJGb3JDb250cm9sbGVyKG9wdGlvbnMuY29udHJvbGxlcikgfHwgb3B0aW9ucy5jb250cm9sbGVyQXMgfHwgJyRjdHJsJyxcbiAgICAgIHRlbXBsYXRlOiBtYWtlSW5qZWN0YWJsZSh0ZW1wbGF0ZSksXG4gICAgICB0ZW1wbGF0ZVVybDogbWFrZUluamVjdGFibGUob3B0aW9ucy50ZW1wbGF0ZVVybCksXG4gICAgICB0cmFuc2NsdWRlOiBvcHRpb25zLnRyYW5zY2x1ZGUsXG4gICAgICBzY29wZToge30sXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiBvcHRpb25zLmJpbmRpbmdzIHx8IHt9LFxuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIHJlcXVpcmU6IG9wdGlvbnMucmVxdWlyZSxcbiAgICB9O1xuXG4gICAgLy8gQ29weSBhbm5vdGF0aW9ucyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBERE9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSBkZG9ba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGRvO1xuICB9XG5cbiAgLy8gVE9ETyhwZXRlKSByZW1vdmUgdGhlIGZvbGxvd2luZyBgZm9yRWFjaGAgYmVmb3JlIHdlIHJlbGVhc2UgMS42LjBcbiAgLy8gVGhlIGNvbXBvbmVudC1yb3V0ZXJAMC4yLjAgbG9va3MgZm9yIHRoZSBhbm5vdGF0aW9ucyBvbiB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvclxuICAvLyBOb3RoaW5nIGluIEFuZ3VsYXIgbG9va3MgZm9yIGFubm90YXRpb25zIG9uIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGJ1dCB3ZSBjYW4ndCByZW1vdmVcbiAgLy8gaXQgZnJvbSAxLjUueCB5ZXQuXG5cbiAgLy8gQ29weSBhbnkgYW5ub3RhdGlvbiBwcm9wZXJ0aWVzIChzdGFydGluZyB3aXRoICRcbiAgLy8gKW92ZXIgdG8gdGhlIGZhY3RvcnkgYW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb25zXG4gIC8vIFRoZXNlIGNvdWxkIGJlIHVzZWQgYnkgbGlicmFyaWVzIHN1Y2ggYXMgdGhlIG5ldyBjb21wb25lbnQgcm91dGVyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJykge1xuICAgICAgY29uc3QgdmFsID0gb3B0aW9uc1trZXldO1xuICAgICAgZmFjdG9yeVtrZXldID0gdmFsO1xuICAgICAgLy8gRG9uJ3QgdHJ5IHRvIGNvcHkgb3ZlciBhbm5vdGF0aW9ucyB0byBuYW1lZCBjb250cm9sbGVyXG4gICAgICBpZiAodHlwZW9mIGNvbnRyb2xsZXIgPT09ICdmdW5jdGlvbicpIGNvbnRyb2xsZXJba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmYWN0b3J5LiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xuXG4gIHJldHVybiB0aGlzLmluamVjdERpcmVjdGl2ZShuYW1lLCBmYWN0b3J5LCBpbmp1bGFyRGF0YSk7XG59XG5cblxuY29uc3QgaW5qdWxhciA9IHtcbiAgYXR0YWNoVG9Nb2R1bGUsXG4gIGluamVjdENvbXBvbmVudCxcbiAgaW5qZWN0RGlyZWN0aXZlLFxuICBwcm94aWZ5QW5ndWxhcixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluanVsYXI7XG4iXSwibmFtZXMiOlsiYXNzaWduIiwidGFyZ2V0IiwiVHlwZUVycm9yIiwidG8iLCJPYmplY3QiLCJpbmRleCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJrZWJhYkNhc2UiLCJuYW1lIiwicmVwbGFjZSIsImxldHRlciIsInBvcyIsInRvTG93ZXJDYXNlIiwiRElSRUNUSVZFX1NVRkZJWCIsIkNOVFJMX1JFRyIsImlkZW50aWZpZXJGb3JDb250cm9sbGVyIiwiY29udHJvbGxlciIsIm1hdGNoIiwiZXhlYyIsInVuZGVmaW5lZCIsImluc3RhbnRpYXRlRGlyZWN0aXZlIiwiZGlyZWN0aXZlRmFjdG9yeSIsIiRpbmplY3RvciIsImRpcmVjdGl2ZSIsImludm9rZSIsImNvbXBpbGUiLCJsaW5rIiwicHJpb3JpdHkiLCJyZXF1aXJlIiwicmVzdHJpY3QiLCIkJG1vZHVsZU5hbWUiLCJyZW1vdmVSZXBsYWNlYWJsZURpcmVjdGl2ZVByb3BlcnRpZXMiLCJrZXkiLCJpbmp1bGFyQ29tcGlsZSIsIiRjb21waWxlTm9kZSIsInRlbXBsYXRlQXR0cnMiLCJjaGlsZFRyYW5zY2x1ZGVGbiIsIm5vZGUiLCIkaW5qdWxhclRlbXBsYXRlIiwib3V0ZXJIVE1MIiwiX25vbkluanVsYXJDb21waWxlIiwicmVnaXN0ZXJJbmp1bGFyRGlyZWN0aXZlIiwiX25vbkluanVsYXJEaXJlY3RpdmUiLCJ0ZW1wbGF0ZSIsImF0dGFjaFRvTW9kdWxlIiwibW9kdWxlIiwiaW5qdWxhckRhdGEiLCIkaW5qdWxhckF0dGFjaGVkIiwiY29uZmlnIiwiJGNvbXBpbGVQcm92aWRlciIsInJ1biIsImluanVsYXJEaXJlY3RpdmUiLCJfaW5qdWxhciIsImluamVjdERpcmVjdGl2ZSIsIl9pbmp1bGFyRGF0YSIsImluanVsYXJDb21wb25lbnQiLCJvcHRpb25zIiwiaW5qZWN0Q29tcG9uZW50IiwiaW5qdWxhck1vZHVsZSIsInJlcXVpcmVzIiwiY29uZmlnRm4iLCJfbm9uSW5qdWxhck1vZHVsZSIsIl9pbmp1bGFyTW9kdWxlcyIsInB1c2giLCJfbm9uSW5qdWxhckNvbXBvbmVudCIsImNvbXBvbmVudCIsImluanVsYXJVbnByb3hpZnkiLCJmb3JFYWNoIiwiJGluanVsYXJVbnByb3hpZnkiLCJwcm94aWZ5QW5ndWxhciIsImFuZ3VsYXIiLCIkY29tcGlsZSIsImdldCIsIiRyb290RWxlbWVudCIsInJvb3RFbGVtZW50IiwiZG9jdW1lbnQiLCJvd25lckRvY3VtZW50Iiwid2luZG93IiwiZGVmYXVsdFZpZXciLCJkaXJlY3RpdmVTZXJ2aWNlTmFtZSIsImRpcmVjdGl2ZUV4aXN0cyIsImhhcyIsImRpcmVjdGl2ZXMiLCJuZXdEaXJlY3RpdmUiLCJrZWJhYk5hbWUiLCJjb21wb25lbnRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwiY29tcG9uZW50RWxlbWVudCIsIiRjb21wb25lbnRFbGVtZW50IiwiZWxlbWVudCIsInNjb3BlIiwiaXNvbGF0ZVNjb3BlIiwicGFyZW50U2NvcGUiLCIkcGFyZW50IiwiaGFzQ2xhc3MiLCJjb21wb25lbnRTY29wZSIsIiRkZXN0cm95IiwiY29tcG9uZW50VGVtcGxhdGUiLCJjaGlsZHJlbiIsInJlbW92ZSIsIiRuZXdDb21wb25lbnRFbGVtZW50IiwicmVwbGFjZVdpdGgiLCIkZGlnZXN0IiwiZmFjdG9yeSIsIm1ha2VJbmplY3RhYmxlIiwiZm4iLCJBcnJheSIsImlzQXJyYXkiLCJ0RWxlbWVudCIsInRBdHRycyIsIiRlbGVtZW50IiwiJGF0dHJzIiwidGVtcGxhdGVVcmwiLCJkZG8iLCJjb250cm9sbGVyQXMiLCJ0cmFuc2NsdWRlIiwiYmluZGluZ3MiLCJjaGFyQXQiLCJ2YWwiLCIkaW5qZWN0IiwiaW5qdWxhciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sU0FBU0EsTUFBVCxDQUFnQkMsTUFBaEIsRUFBd0I7TUFDekJBLFVBQVUsSUFBZCxFQUFvQjtVQUNaLElBQUlDLFNBQUosQ0FBYyw0Q0FBZCxDQUFOOzs7TUFHSUMsS0FBS0MsT0FBT0gsTUFBUCxDQUFYOztPQUVLLElBQUlJLFFBQVEsQ0FBakIsRUFBb0JBLFFBQVFDLFVBQVVDLE1BQXRDLEVBQThDRixTQUFTLENBQXZELEVBQTBEOztRQUVsREcsYUFBYUYsVUFBVUQsS0FBVixDQUFuQjtRQUNJRyxjQUFjLElBQWxCLEVBQXdCOztXQUVqQixJQUFNQyxPQUFYLElBQXNCRCxVQUF0QixFQUFrQztZQUM1QkosT0FBT00sU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDSixVQUFyQyxFQUFpREMsT0FBakQsQ0FBSixFQUErRDthQUMxREEsT0FBSCxJQUFjRCxXQUFXQyxPQUFYLENBQWQ7Ozs7O1NBS0ROLEVBQVA7OztBQUdGLElBQU1VLG9CQUFvQixRQUExQjtBQUNBLEFBQU8sU0FBU0MsU0FBVCxDQUFtQkMsSUFBbkIsRUFBeUI7U0FDdkJBLEtBQUtDLE9BQUwsQ0FBYUgsaUJBQWIsRUFBZ0MsVUFBQ0ksTUFBRCxFQUFTQyxHQUFUO1dBQ3JDLENBQUNBLE1BQU0sR0FB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
